@import 'tailwindcss';

/* Minimalist color palette inspired by mckerlie.com */
@layer base {
  :root {
    --color-black: 0 0 0;
    --color-gray-900: 17 17 17;
    --color-gray-700: 51 51 51;
    --color-gray-500: 102 102 102;
    --color-gray-300: 153 153 153;
    --color-gray-100: 245 245 245;
    --color-white: 255 255 255;
    --color-link: 0 102 204; /* Simple blue for links */
  }

  :root.dark {
    --color-black: 255 255 255;
    --color-gray-900: 238 238 238;
    --color-gray-700: 204 204 204;
    --color-gray-500: 153 153 153;
    --color-gray-300: 102 102 102;
    --color-gray-100: 26 26 26;
    --color-white: 17 17 17;
    --color-link: 70 146 221;
  }

  html {
    @apply scroll-smooth;
    font-size: 16px;
    line-height: 1.75;
  }
  
  @media (min-width: 768px) {
    html {
      font-size: 18px;
    }
  }

  body {
    background-color: rgb(var(--color-white));
    color: rgb(var(--color-gray-900));
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Space Grotesk', Helvetica, Arial, sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography - Matching mckerlie sizes */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 700;
    line-height: 1.2;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    color: rgb(var(--color-black));
  }

  h1 { font-size: 2rem; }
  h2 { font-size: 1.75rem; }
  h3 { font-size: 1.5rem; }
  h4 { font-size: 1.25rem; }
  h5 { font-size: 1.125rem; }
  h6 { font-size: 1rem; }
  
  @media (min-width: 768px) {
    h1 { font-size: 2.5rem; }
    h2 { font-size: 2rem; }
    h3 { font-size: 1.75rem; }
    h4 { font-size: 1.5rem; }
    h5 { font-size: 1.25rem; }
    h6 { font-size: 1.125rem; }
  }

  p {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    line-height: 1.75;
    font-size: 1.05rem;
  }

  code, pre {
    font-family: 'JetBrains Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    font-size: 0.85em;
  }

  /* Inline code - minimal styling */
  code:not(pre code) {
    padding: 0.2em 0.4em;
    background-color: rgb(var(--color-gray-100));
    border-radius: 3px;
    font-size: 0.9em;
  }

  /* Links - no underline by default */
  a {
    color: rgb(var(--color-link));
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
    text-decoration-style: dashed;
    text-underline-offset: 4px;
  }

  /* Selection color */
  ::selection {
    background-color: rgb(var(--color-gray-300));
    color: rgb(var(--color-white));
  }
}

/* Prose/Article styling - Using Tailwind Typography */
@layer components {
  .prose-content {
    @apply mx-auto;
    max-width: 650px;
  }

  .prose-content h1,
  .prose-content h2,
  .prose-content h3,
  .prose-content h4 {
    font-weight: 600;
    color: rgb(var(--color-black));
  }

  .prose-content h1 {
    @apply mb-6 mt-0 text-3xl;
  }

  .prose-content h2 {
    @apply mb-4 mt-12 text-2xl;
  }

  .prose-content h3 {
    @apply mb-3 mt-8 text-xl;
  }

  .prose-content h4 {
    @apply mb-2 mt-6 text-lg;
  }

  .prose-content p {
    @apply mb-6;
    line-height: 1.8;
  }

  .prose-content ul,
  .prose-content ol {
    @apply mb-6 ml-6;
  }

  .prose-content li {
    @apply mb-2;
    line-height: 1.8;
  }

  .prose-content blockquote {
    @apply my-6 border-l-2 border-gray-300 pl-6 italic;
    color: rgb(var(--color-gray-700));
  }

  /* Code blocks - Shiki handles the syntax highlighting */
  .prose-content pre {
    @apply my-8 overflow-x-auto;
    background-color: #0d1117 !important; /* GitHub dark theme background */
    padding: 2rem !important;
    border-radius: 0.75rem !important;
    border: 1px solid #30363d;
  }

  .prose-content pre code {
    background: transparent !important;
    padding: 0 !important;
    font-family: 'JetBrains Mono', Menlo, Monaco, Consolas, monospace;
    font-size: 0.875rem !important;
    line-height: 1.7 !important;
  }

  /* Shiki code block container */
  .astro-code {
    @apply my-8 overflow-x-auto;
    background-color: #0d1117 !important;
    padding: 1.75rem !important;
    border-radius: 0.75rem !important;
    border: 1px solid #30363d !important;
    font-size: 0.875rem !important;
  }

  .astro-code code {
    background: transparent !important;
    padding: 0 !important;
    font-family: 'JetBrains Mono', Menlo, Monaco, Consolas, monospace !important;
    font-size: 0.875rem !important;
    line-height: 1.7 !important;
  }

  .prose-content img {
    @apply my-6;
  }

  .prose-content table {
    @apply my-6 w-full;
    border-collapse: collapse;
  }

  .prose-content th {
    @apply border-b-2 px-4 py-2 text-left;
    border-color: rgb(var(--color-gray-300));
  }

  .prose-content td {
    @apply border-b px-4 py-2;
    border-color: rgb(var(--color-gray-100));
  }

  .prose-content hr {
    @apply my-8 border-t;
    border-color: rgb(var(--color-gray-100));
  }
}

/* Dark mode support - minimal */
@layer utilities {
  /* Focus styles - minimal */
  *:focus {
    outline: none;
  }

  *:focus-visible {
    outline: 2px solid rgb(var(--color-link));
    outline-offset: 2px;
  }
}
